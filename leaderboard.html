
  <!DOCTYPE html><html lang="id">
<meta charset="UTF-8">
<meta name="viewport" content="width=1024">

  
  
  <title>Leaderboard</title>
  
  
  
  
  <style>
     body {
  margin: 0;
  font-family: 'Segoe UI', sans-serif;
  
  padding-top: 50px;
}
.terutus {
  display: flex;
  justify-content: center;
  gap: 10px;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background-color: white; 
  padding: 10px 0; 
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); 
  z-index: 1000;
}


.terbiwih {
  display: flex;
  justify-content: center;
  gap: 10px;
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background-color: white; 
  padding: 10px 0; 
  box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.2);
  z-index: 1000; 
}

.varis {
      background-color: rgba(255, 255, 255, 0.1);
      border: 2px solid red;
      color: black;
      padding: 10px 20px;
      text-decoration: none;
      font-weight: bold;
      border-radius: 5px;
      transition: background-color 0.3s;
      text-align: center;
      font-size: 38px; 
    }     
        
    
    
    .konten {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      padding: 10px;
      font-size: 26px;
    }
    .nasuka-info.centered {
      text-align: center;
      font-size: 26px;
    }
    .namajuara {
      display: inline-block;
      background-color: #2196F3;
      color: white;
      padding: 10px 20px;
      border-radius: 6px;
      text-decoration: none;
      font-weight: bold;
      margin-top: 10px;
      border: 2px solid #FFD700;
      font-size: 26px;
    }
    .namajuara:hover {
      background-color: #1976D2;
      border-color: #FFC107;
      font-size: 26px;
    }

    .perakjuara {
      font-size: 26px;
      color: red;
      margin-bottom: 8px;
    }

    @media (max-width: 480px) {
      .nasuka {
        flex: 0 0 49%;
        font-size: 26px;
      }
      .namajuara {
        padding: 16px 24px;
        font-size: 40px;
      }
    }
    
    .juara1-konten {
      justify-content: center;
    }

  
    .foto-juara {
      width: 400px;
      height: 400px;
      border-radius: 8px;
      object-fit: cover;
      display: block;
      margin: 0 auto 8px auto;
      border: 2px solid #ccc;
    }
  </style>
</head>  
<body>
  
  
  <div class="terutus">
  
    <a class="varis">Leaderboard</a>   
 </div>
 
 
  <div class="terbiwih">
  
    <a class="varis">Rich</a>   
    <a class="varis">Exis</a>   
    <a class="varis">Royal</a>   
    <a class="varis"></a>   
    <a href="https://index.html" class="varis">Kembali</a>   
    
 </div>
  
  
  
  <div class="konten juara1-konten">
    <div class="nasuka" id="juara1-box">
      <div class="nasuka-info centered">
        <div class="perakjuara" id="juara1-title"></div>
        <img id="juara1-foto" class="foto-juara" src="https://nasukafoods.site/gambarkosong.jpg" alt="Foto Juara 1">
        <a href="#" class="namajuara" id="juara1-nama">1</a>
        <p id="juara1-nilai">0</p>
      </div>
    </div>
  </div>

  <div class="konten juara2dan3-konten">
    <div class="nasuka" id="juara2-box">
      <div class="nasuka-info left">
        <div class="perakjuara" id="juara2-title"></div>
        <img id="juara2-foto" class="foto-juara" src="https://nasukafoods.site/gambarkosong.jpg" alt="Foto Juara 2">
        <a href="#" class="namajuara" id="juara2-nama">2</a>
        <p id="juara2-nilai">0</p>
      </div>
    </div>

    <div class="nasuka" id="juara3-box">
      <div class="nasuka-info left">
        <div class="perakjuara" id="juara3-title"></div>
        <img id="juara3-foto" class="foto-juara" src="https://nasukafoods.site/gambarkosong.jpg" alt="Foto Juara 3">
        <a href="#" class="namajuara" id="juara3-nama">3</a>
        <p id="juara3-nilai">0</p>
      </div>
    </div>
  </div>

  <div class="konten juara4dst-konten">
    <ul id="juara4-list"></ul>
  </div>

<script src="https://www.gstatic.com/firebasejs/12.1.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/12.1.0/firebase-database-compat.js"></script>
<script>
const firebaseConfig = {
  apiKey: "AIzaSyDPJfJgUg8a_e1zS3nSbU8RqHj3TOALX2s",
  authDomain: "nasuka-fc780.firebaseapp.com",
  databaseURL: "https://nasuka-fc780-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "nasuka-fc780",
  messagingSenderId: "860641747257",
  appId: "1:860641747257:web:d1dc28bf34cc1f64ad48e8"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

function updateChampionBox(rank, user, type) {
  document.getElementById(`juara${rank}-nama`).textContent = user.Nama || "Anonymous";
  document.getElementById(`juara${rank}-nama`).href = `profil.html?id=${user.id}`;
  document.getElementById(`juara${rank}-nilai`).textContent = `${user[type] || 0} ${type}`;

  
  const fotoEl = document.getElementById(`juara${rank}-foto`);
  if (user.Foto) {
    fotoEl.src = user.Foto;
    fotoEl.style.display = "block";
  } else {
    fotoEl.style.display = "none"; 
  }
}






function updateChampionList(users, type) {
  const list = document.getElementById("juara4-list");
  list.innerHTML = "";

  users.forEach((user, index) => {
    const rank = index + 4;

    const li = document.createElement("li");
    li.style.display = "flex";
    li.style.alignItems = "center";
    li.style.margin = "10px 0";

    const foto = document.createElement("img");
    foto.src = user.Foto || "https://nasukafoods.site/gambarkosong.jpg";
    foto.alt = `Foto Juara ${rank}`;
    foto.style.width = "160px";
    foto.style.height = "160px";
    foto.style.objectFit = "cover";
    foto.style.borderRadius = "8px";
    foto.style.border = "2px solid #ccc";
    foto.style.marginRight = "10px";

    const info = document.createElement("div");
    info.innerHTML = `
      <a href="profil.html?id=${user.id}" class="namajuara" style="padding:4px 8px;font-size:24px;margin:0 6px;">
        ${rank}. ${user.Nama || "Anonymous"}
      </a><br>
      <span style="font-size:22px;color:green;">${user[type] || 0} ${type}</span>
    `;

    li.appendChild(foto);
    li.appendChild(info);
    list.appendChild(li);
  });
}










function getLeaderboard(type) {
  const leaderboardRef = db.ref('users').orderByChild(type).limitToLast(10);

  leaderboardRef.on('value', (snapshot) => {
    const users = [];
    snapshot.forEach((childSnapshot) => {
      const user = childSnapshot.val();
      user.id = childSnapshot.key;
      users.push(user);
    });

    users.sort((a, b) => (parseFloat(b[type])||0) - (parseFloat(a[type])||0));

    for (let i = 0; i < 3; i++) {
      if (users[i]) updateChampionBox(i+1, users[i], type);
    }

    if (users.length > 3) {
      updateChampionList(users.slice(3), type);
    }
  });
}

getLeaderboard("Perak");
</script>
</body>
</html>
