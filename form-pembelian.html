<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Form Pembelian - Nasuka Foods</title>
  <link rel="stylesheet" href="style.css"> <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background-color: #f0f2f5; /* Latar belakang lebih terang */
      color: #333;
      line-height: 1.6;
    }

    header {
      background-color: #333;
      color: #fff;
      padding: 15px 20px;
      text-align: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    header h1 {
      margin: 0;
      font-size: 28px;
    }

    nav {
        margin-top: 10px;
    }

    nav a {
        text-decoration: none;
        color: #007bff;
        font-weight: bold;
        padding: 5px 10px;
        border: 1px solid #007bff;
        border-radius: 5px;
        transition: background-color 0.3s, color 0.3s;
        display: inline-block; /* Untuk styling */
    }

    nav a:hover {
        background-color: #007bff;
        color: #fff;
    }

    .container {
      max-width: 600px;
      margin: 30px auto;
      background-color: #fff;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    h2 {
      text-align: center;
      color: #333;
      margin-bottom: 25px;
      font-size: 24px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: bold;
      color: #555;
    }

    .form-group input[type="text"],
    .form-group input[type="email"],
    .form-group input[type="number"],
    .form-group select {
      width: calc(100% - 20px);
      padding: 12px 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 16px;
      box-sizing: border-box; /* Pastikan padding tidak menambah lebar */
    }

    .form-group input[type="number"] {
        text-align: center;
        width: 80px; /* Lebar lebih kecil untuk kuantitas */
        display: inline-block;
        vertical-align: middle;
        margin-right: 10px;
    }

    .item-selection {
        display: flex;
        align-items: center;
        gap: 15px;
    }
    .item-selection img {
        width: 60px;
        height: 60px;
        object-fit: cover;
        border-radius: 4px;
    }

    .product-info {
        flex-grow: 1;
    }
    .product-info p {
        margin: 0;
        font-size: 15px;
    }
    .product-info .price {
        font-weight: bold;
        color: #007bff;
    }

    .total-price {
      text-align: right;
      font-size: 22px;
      font-weight: bold;
      color: #28a745; /* Warna hijau untuk total */
      margin-top: 25px;
      padding-top: 15px;
      border-top: 1px solid #eee;
    }

    .payment-section {
      margin-top: 30px;
      padding: 25px;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      background-color: #f9f9f9;
      text-align: center;
    }

    .payment-section h3 {
      color: #333;
      font-size: 20px;
      margin-bottom: 15px;
    }

    .payment-section img {
      max-width: 250px; /* Ukuran QRIS */
      height: auto;
      border: 1px solid #ddd;
      border-radius: 5px;
      margin-bottom: 20px;
    }

    .payment-instructions {
      text-align: left;
      font-size: 15px;
      color: #555;
      line-height: 1.8;
      margin-bottom: 20px;
    }

    .payment-instructions ol {
        padding-left: 20px;
        margin-top: 10px;
    }
    .payment-instructions li {
        margin-bottom: 8px;
    }

    .submit-button {
      display: block;
      width: 100%;
      padding: 15px;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 6px;
      font-size: 18px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .submit-button:hover {
      background-color: #0056b3;
    }

    footer {
        background-color: #333;
        color: #fff;
        text-align: center;
        padding: 20px;
        margin-top: 30px;
        font-size: 14px;
    }

    footer p {
        margin: 5px 0;
    }

    /* Responsiveness */
    @media (max-width: 768px) {
        .container {
            margin: 20px auto;
            padding: 20px;
        }
        h2 {
            font-size: 20px;
        }
        .form-group input, .form-group select {
            font-size: 14px;
            padding: 10px;
        }
        .submit-button {
            font-size: 16px;
            padding: 12px;
        }
        .item-selection {
            flex-direction: column; /* Stack on smaller screens */
            align-items: flex-start;
            gap: 10px;
        }
        .item-selection img {
            width: 50px;
            height: 50px;
        }
    }
  </style>
</head>
<body>

  <header>
    <h1>Pembelian Produk Nasuka Foods</h1>
    <nav>
      <a href="index.html">Kembali ke Beranda</a>
    </nav>
  </header>

  <div class="container">
    <h2>Form Pemesanan</h2>
    <form id="orderForm">
      <div class="form-group">
        <label for="fullName">Nama Lengkap:</label>
        <input type="text" id="fullName" name="fullName" required placeholder="Cth: Budi Santoso">
      </div>

      <div class="form-group">
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required placeholder="Cth: email@contoh.com">
      </div>

      <div class="form-group">
        <label for="phone">Nomor Telepon:</label>
        <input type="text" id="phone" name="phone" required placeholder="Cth: 081234567890">
      </div>

      <div class="form-group">
        <label for="address">Alamat Pengiriman (untuk produk fisik):</label>
        <input type="text" id="address" name="address" placeholder="Cth: Jl. Merdeka No. 10, Jakarta">
        <small>Kosongkan jika hanya memesan layanan digital.</small>
      </div>

      <div class="form-group">
        <label for="product">Pilih Produk:</label>
        <div class="item-selection">
            <img id="productImage" src="https://nasukafoods.site/paketcilok.jpg" alt="Foto Produk"> <div class="product-info">
                <select id="product" name="product" required>
                    <option value="">Pilih Produk Anda</option>
                    <option value="paket_cilok" data-price="50000" data-img="https://nasukafoods.site/paketcilok.jpg">Paket Cilok - Rp 50.000</option>
                    <option value="kacang_toping" data-price="50000" data-img="https://nasukafoods.site/kacangtoping.jpg">Kacang Toping - Rp 50.000</option>
                    <option value="booster_followers" data-price="40000" data-img="https://nasukafoods.site/boosterfollowers.jpg">Booster Followers - Rp 40.000</option>
                    <option value="booster_viewers" data-price="10000" data-img="https://nasukafoods.site/boosterviewers.jpg">Booster Viewers - Rp 10.000</option>
                    <option value="cilok_polosan" data-price="50000" data-img="https://nasukafoods.site/images/cilok-polosan.jpg">Cilok Polosan - Rp 50.000</option>
                    <option value="cilok_full_topping" data-price="50000" data-img="https://nasukafoods.site/images/cilok-full-topping.jpg">Cilok Full Toping - Rp 50.000</option>
                    <option value="roda_cilok" data-price="1500000" data-img="https://nasukafoods.site/images/roda-cilok.jpg">Roda Cilok - Rp 1.500.000</option>
                    <option value="kawal_darurat" data-price="50000" data-img="https://nasukafoods.site/images/kawal-darurat.jpg">Kawal Darurat - Rp 50.000</option>
                    <option value="aplikator_acp" data-price="700000" data-img="https://nasukafoods.site/images/aplikator-acp.jpg">Aplikator Acp - Rp 700.000</option>
                    <option value="hack_lokasi" data-price="10000" data-img="https://nasukafoods.site/images/hack-lokasi.jpg">Hack lokasi - Rp 10.000</option>
                    <option value="booster_likes" data-price="25000" data-img="https://nasukafoods.site/images/booster-likes.jpg">Booster Likes - Rp 25.000</option>
                </select>
                <p>Harga: <span id="productPrice">Rp 0</span></p>
            </div>
        </div>
      </div>

      <div class="form-group">
        <label for="quantity">Kuantitas:</label>
        <input type="number" id="quantity" name="quantity" min="1" value="1" required>
      </div>

      <div class="total-price">
        Total Pembayaran: <span id="totalAmount">Rp 0</span>
      </div>

      <div class="payment-section">
        <h3>Pembayaran Melalui QRIS</h3>
        <img src="https://nasukafoods.site/qris.jpg" alt="QRIS Code" id="qrisImage"> <div class="payment-instructions">
          <p>Langkah-langkah pembayaran dengan QRIS:</p>
          <ol>
            <li>Buka aplikasi mobile banking atau e-wallet pilihan Anda (GoPay, OVO, Dana, LinkAja, BCA Mobile, Mandiri Online, dll.).</li>
            <li>Pilih fitur "Scan QR" atau "Pembayaran QRIS".</li>
            <li>Pindai kode QRIS di atas.</li>
            <li>Pastikan nama merchant adalah **Nasuka Foods** dan jumlah pembayaran sudah sesuai.</li>
            <li>Konfirmasi pembayaran Anda di aplikasi.</li>
            <li>Simpan bukti pembayaran Anda.</li>
          </ol>
          <p>Setelah pembayaran berhasil, pesanan Anda akan diproses. Anda akan menerima konfirmasi melalui email.</p>
        </div>
        <button type="submit" class="submit-button">Konfirmasi Pesanan & Bayar</button>
        <small style="display: block; margin-top: 15px; color: #888;">
            *Catatan: Pembayaran QRIS ini hanya simulasi tampilan. Integrasi dengan gateway pembayaran diperlukan untuk pemrosesan pembayaran nyata.
        </small>
      </div>
    </form>
  </div>

  <footer>
    <p>&copy; 2025 Nasuka Foods. Hak Cipta Dilindungi Undang-Undang.</p>
  </footer>

  <script>
    const productSelect = document.getElementById('product');
    const quantityInput = document.getElementById('quantity');
    const productPriceSpan = document.getElementById('productPrice');
    const totalAmountSpan = document.getElementById('totalAmount');
    const productImage = document.getElementById('productImage');
    const form = document.getElementById('orderForm');

    const products = {
        "paket_cilok": { price: 50000, img: "https://nasukafoods.site/paketcilok.jpg" },
        "kacang_toping": { price: 50000, img: "https://nasukafoods.site/kacangtoping.jpg" },
        "booster_followers": { price: 40000, img: "https://nasukafoods.site/boosterfollowers.jpg" },
        "booster_viewers": { price: 10000, img: "https://nasukafoods.site/boosterviewers.jpg" },
        "cilok_polosan": { price: 50000, img: "https://nasukafoods.site/images/cilok-polosan.jpg" },
        "cilok_full_topping": { price: 50000, img: "https://nasukafoods.site/images/cilok-full-topping.jpg" },
        "roda_cilok": { price: 1500000, img: "https://nasukafoods.site/images/roda-cilok.jpg" },
        "kawal_darurat": { price: 50000, img: "https://nasukafoods.site/images/kawal-darurat.jpg" },
        "aplikator_acp": { price: 700000, img: "https://nasukafoods.site/images/aplikator-acp.jpg" },
        "hack_lokasi": { price: 10000, img: "https://nasukafoods.site/images/hack-lokasi.jpg" },
        "booster_likes": { price: 25000, img: "https://nasukafoods.site/images/booster-likes.jpg" }
    };

    function formatRupiah(amount) {
        return new Intl.NumberFormat('id-ID', {
            style: 'currency',
            currency: 'IDR',
            minimumFractionDigits: 0
        }).format(amount);
    }

    function calculateTotal() {
        const selectedProductId = productSelect.value;
        const quantity = parseInt(quantityInput.value);
        let currentPrice = 0;
        let currentImage = "https://nasukafoods.site/paketcilok.jpg"; // Default image

        if (selectedProductId && products[selectedProductId]) {
            currentPrice = products[selectedProductId].price;
            currentImage = products[selectedProductId].img;
        }

        const total = currentPrice * (isNaN(quantity) ? 0 : quantity);
        productPriceSpan.textContent = formatRupiah(currentPrice);
        totalAmountSpan.textContent = formatRupiah(total);
        productImage.src = currentImage;
        productImage.alt = selectedProductId ? products[selectedProductId].alt : "Foto Produk";
    }

    productSelect.addEventListener('change', calculateTotal);
    quantityInput.addEventListener('input', calculateTotal);

    // Initial calculation when page loads
    calculateTotal();

    // Handle form submission (this is where you'd send data to your backend)
    form.addEventListener('submit', function(event) {
        event.preventDefault(); // Mencegah form submit secara default

        const selectedProduct = productSelect.value;
        const quantity = quantityInput.value;
        const fullName = document.getElementById('fullName').value;
        const email = document.getElementById('email').value;
        const phone = document.getElementById('phone').value;
        const address = document.getElementById('address').value;
        const totalAmount = totalAmountSpan.textContent; // Get formatted total from display

        if (!selectedProduct) {
            alert('Mohon pilih produk terlebih dahulu.');
            return;
        }
        if (quantity < 1) {
            alert('Kuantitas minimal adalah 1.');
            return;
        }

        // --- Ini adalah tempat Anda akan memanggil API iPaymu ---
        // Contoh sederhana:
        alert(`Pesanan Diterima!\n\nNama: ${fullName}\nEmail: ${email}\nTelepon: ${phone}\nAlamat: ${address}\n\nProduk: ${selectedProduct}\nKuantitas: ${quantity}\nTotal: ${totalAmount}\n\nMohon selesaikan pembayaran dengan memindai QRIS.`);

        // Di sini Anda akan melakukan AJAX request (fetch/XMLHttpRequest) ke backend Anda
        // Backend Anda akan:
        // 1. Membuat transaksi di iPaymu.
        // 2. Mendapatkan QRIS unik dari iPaymu.
        // 3. Mengarahkan pengguna ke halaman pembayaran iPaymu atau menampilkan QRIS dinamis.
        // 4. Merekam pesanan di database Anda.

        // Contoh bagaimana Anda akan mengganti gambar QRIS dengan QRIS dinamis (dari response API iPaymu)
        // document.getElementById('qrisImage').src = 'URL_QRIS_DINAMIS_DARI_IPAYMU';
        // Atau redirect ke URL pembayaran iPaymu
        // window.location.href = 'URL_PEMBAYARAN_IPAYMU';
    });
  </script>

</body>
</html>
